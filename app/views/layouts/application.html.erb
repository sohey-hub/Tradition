<!DOCTYPE html>
<html>
  <head>
    <title>Tradition</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_pack_tag 'application' %>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <%# <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="map.js"></script> %>
    <%# <script src="/path/to/jquery.japan-map.min.js"></script> %>
   <style>
  
   </style>
  </head>

  <body>
  <header class="header">
  <div class="container">
    <% if user_signed_in? %>
      <nav class="navbar navbar-expand-lg navbar-light .bg-primary.bg-gradient">
        <div class="container-fluid">
          <%= link_to "Tradition", root_path, class:"navbar-brand" %>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        <ul class="navbar-nav">
          <li class="nav-item">
            <div class="nav-link active">
            <%= "ようこそ、#{current_user.nickname}さん" %>
            </div>
          </li>
          <li>
            <%= link_to "出品する", new_item_path, class: 'nav-link' %>
          </li>
          <li class="nav-item">
            <%= link_to "ログアウト", destroy_user_session_path, method: :delete, class: "nav-link" %>
          </li>
    <% else %>
          <li class="nav-item">
           <%= link_to "ログイン", new_user_session_path, class: "nav-link active" %>
          </li>
          <li class="nav-item">
            <%= link_to "新規登録", new_user_registration_path, class: "nav-link" %>
          </li>
        </ul>
    <% end %>
    </div>
  </div>
</header>
  
    <%= yield %>
  </body>
  <script>
   $(function(){

      const areaLinks = {
		 1:"javascript:void(0)",
		 2:"javascript:void(0)",
		 3:"http://rmtmhome.com",
		 4:"http://rmtmhome.com",
		 5:"http://localhost:3000/items/new",
		 6:"http://localhost:3000/kantos",
		 7:"javascript:void(0)",
		 8:"javascript:void(0)",
		 9:"javascript:void(0)"
	    };

      const areas = [
                {code : 1, name: "北海道", color: "#000080", hoverColor: "#aaa", prefectures: [1]},
                {code : 2, name: "東北",   color: "#0000ff", hoverColor: "#aaa", prefectures: [2,3,4,5,6,7]},
                {code : 3, name: "関東",   color: "#7ecfea", hoverColor: "#b7e5f4", prefectures: [8,9,10,11,12,13,14]},
                {code : 4, name: "中部",   color: "#7cdc92", hoverColor: "#aceebb", prefectures: [15,16,17,18,19,20,21,22,23]},
                {code : 5, name: "近畿",   color: "#ffe966", hoverColor: "#fff19c", prefectures: [24,25,26,27,28,29,30]},
                {code : 6, name: "中国",   color: "#008000", hoverColor: "#aaa", prefectures: [31,32,33,34,35]},
                {code : 7, name: "四国",   color: "#ff88ff", hoverColor: "#aaa", prefectures: [36,37,38,39]},
                {code : 8, name: "九州",   color: "#800080", hoverColor: "#aaa", prefectures: [40,41,42,43,44,45,46]},
                {code : 9, name: "沖縄",   color: "#ff0000", hoverColor: "#aaa", prefectures: [47]},
                ];
  
              $("#map-container").japanMap({
		                width:800,
                    areas  : areas,
                    selection : "area",
                    borderLineWidth: 0.25,
                    drawsBoxLine : false,
                    movesIslands : true,
                    showsAreaName : true,
                    font : "MS Mincho",
                    fontSize : 13,
		                fontColor :"#777",
                    fontShadowColor : "white",
                    onSelect : function(data){
			               location.href = areaLinks[data.area.code];
                    }
            });

        });

</script>
</html>
